/* Insert into any page using bookmarklet like this:
javascript:(function(s){s.src='http://127.0.0.1:8887/cygwin64/home/kai/github/quicksubs/subs.js?'+Math.random();document.body.appendChild(s)})(document.createElement('script'))
*/
var multiline = function(f) {
  return f.toString().split('\n').slice(1, -1).join('\n');
}
// text from http://transcripts.foreverdreaming.org/viewtopic.php?f=159&t=22987
var subtitles = prompt("Subtitles (get from view source of URL for episode)", "http://transcripts.foreverdreaming.org/viewforum.php?f=159&start=200");
var subtitles = multiline(function(){/* 
<p>(birds singing, insects trilling)</p>
<p><strong>Sheldon</strong>: It's nice to get back to nature.</p>
<p>Why don't I do this more often?</p>
<p>What a beautiful forest.</p>
<p>(gasps delightedly)</p>
<p>Hello, little butterfly.</p>
<p>What's your Na...</p>
<p>(screams)</p>
<p>Whatcha doing?</p>
<p>I was enjoying some virtual reality, until you ruined it with your actual face.</p>
<p>What am I smelling?</p>
<p>Oh, it's car air freshener.</p>
<p>I was simulating the smell of the forest.</p>
<p>That's not what the forest smells like.</p>
<p>Well, how would I know?</p>
<p>Why are you pretending to be outdoors?</p>
<p>You hate it.</p>
<p>Hmm? Oh.</p>
<p>Amy showed me a compelling study that demonstrated the cognitive benefit of spending time in the wilderness.</p>
<p>Buddy, I am ready to drive you into the wilderness any time you want and leave you there.</p>
<p>Well, make your jokes, but some of the participants who spent four days in the woods away from all technology reported a 50% gain in reasoning skills upon their return.</p>
<p>Okay, if that's true, why aren't there more genius squirrels?</p>
<p>You may need this more than I do.</p>
<p>♪ Our whole universe was in a hot, dense state ♪<br />
♪ Then nearly 14 billion years ago expansion started... Wait! ♪<br />
♪ The Earth began to cool ♪<br />
♪ The autotrophs began to drool, Neanderthals developed tools ♪<br />
♪ We built the Wall ♪<br />
♪ <em>We built the pyramids</em> ♪<br />
♪ Math, Science, History, unraveling the mystery ♪<br />
♪ That all started with a big bang ♪<br />
♪ <em>Bang!</em> ♪<br />
♪ The Big Bang Theory 9x20 ♪<br />
The Big Bear Precipitation<br />
Original Air Date on April 7, 2016</p>
<p>Here's your tea.</p>
<p>Oh!</p>
<p>Do not sneak up on a guy when he's sitting on a log.</p>
<p>You know, if you really want to be in nature, why don't we rent a cabin?</p>
<p>Look, I'm sorry, when did you even get here? I...</p>
<p>You know, there's a cabin in Big Bear that a doctor I work with keeps offering me.</p>
<p>Because he's hitting on you?</p>
<p>She.</p>
<p>Oh, good.</p>
<p>But I could get her.</p>
<p>We could all go for the weekend.</p>
<p>It'll be fun.</p>
<p>Yeah... (clears throat) Excuse me.</p>
<p>Here, look up &quot;fun,&quot; get back to me.</p>
<p>You and I could still go and have a nice weekend.</p>
<p>Sure.</p>
<p>Come on, Sheldon, let's go with them.</p>
<p>I hardly think so.</p>
<p>You be sure and say hello to all the mosquitoes, bees, bears, snakes, possums, poison oak, oh, and last, but not least, teenagers with guitars.</p>
<p>I'll see if it's available.</p>
<p>You know, if that study's real, Leonard might come back smarter than you.</p>
<p>Are you trying to manipulate me?</p>
<p>Yes.</p>
<p>Well done, it worked, we're going.</p>
<p>Yay!</p>
<p>(bags rustling)</p>
<p><strong>Bernadette</strong>: Come on, Raj, give me a bag.</p>
<p>No, no, you're pregnant.</p>
<p>The only thing you carry is our hope for a better tomorrow.</p>
<p>Hey, where you been?</p>
<p>Uh, Raj took me to the baby doctor and then we swung by the grocery store.</p>
<p>(tires screeching on game)</p>
<p>Did you get graham crackers?</p>
<p>I mean, are... what... is the baby okay?</p>
<p>Yes and yes.</p>
<p>(sighs)</p>
<p>I didn't know you needed help running errands today.</p>
<p>I didn't, but Raj volunteered.</p>
<p>Really?</p>
<p>Yeah, ever since you told him I was pregnant, he's really been making a fuss over me.</p>
<p>Oh. Well, I guess that's kind of sweet.</p>
<p>Bernie, I just forwarded you a list of the top five lactation consultants in Los Angeles.</p>
<p>I know my favorite, but I'd love to hear what you think.</p>
<p>And it just got weird.</p>
<p>Hey. Amy's downstairs.</p>
<p>Okay, one sec.</p>
<p>Uh, what-what you got goin' on here?</p>
<p>I bought a baseball cap.</p>
<p>I can see that.</p>
<p>What team did you get?</p>
<p>Uh, Hufflepuff, from <em>Harry Potter.</em></p>
<p>Well, we'll be in the woods.</p>
<p>I'm ready to go.</p>
<p>Anything you'd like to say to <em>him?</em></p>
<p>Nice hat, Sheldon.</p>
<p>Thanks.</p>
<p>Why are you so mean to me?</p>
<p>(woman screaming in pain)</p>
<p>(screaming continues)</p>
<p>What the hell are you watching?</p>
<p>Raj found all these childbirth videos online.</p>
<p>This one is of a woman giving birth in a river.</p>
<p>Okay, that is the least Jewish thing I've ever seen in my life.</p>
<p>You feel like Raj is getting a little carried away with all the baby stuff?</p>
<p>I don't think so.</p>
<p>He just wants to be part of the experience.</p>
<p>All right, if you say so.</p>
<p>What's in the box?</p>
<p>Oh, it's an ultrasonic microphone so we can hear the baby's heartbeat.</p>
<p>Oh.</p>
<p>That's cool.</p>
<p>Can we try it?</p>
<p>Actually, Raj ordered it.</p>
<p>He made me promise to wait till he was here.</p>
<p>So he can be... part of the experience?</p>
<p>Yeah.</p>
<p>I'm surprised he let us conceive without him.</p>
<p>It's a sore spot-- don't bring it up.</p>
<p>It's so cute and rustic up here.</p>
<p>I know.</p>
<p>Did you see they still have a video rental place? it's like Colonial Williamsburg.</p>
<p>Well... cell service is down to one bar, so if anyone needs medical attention or to tell a stranger their political views are stupid, now's the time.</p>
<p>Have you ever been off the grid before?</p>
<p>Once.</p>
<p>The battery ran out on my phone.</p>
<p>I had to wait for my iPad to turn on.</p>
<p>I was afraid he was gonna eat me.</p>
<p>Raj just pulled up.</p>
<p>I'm gonna say something to him.</p>
<p>Leave it alone. He means well.</p>
<p>So you don't think he needs to rein it in a little?</p>
<p>No, not really.</p>
<p>And you're not concerned he's acting like somehow this is his kid, too?</p>
<p>He's just trying to be supportive.</p>
<p>Just supportive.</p>
<p>Not over-the-top in any way?</p>
<p>No.</p>
<p><strong>Koothrappali</strong>: Hello!</p>
<p>You saw him carrying that.</p>
<p>Astronauts saw him carrying that.</p>
<p>(gasps)</p>
<p>This place is great!</p>
<p>So nice of that doctor to just let you use it.</p>
<p>Well, she is taking me to an Indigo Girls concert, so hold that thought.</p>
<p>Okay.</p>
<p>Well, should we check each other for ticks?</p>
<p>Sheldon, all we did was walk in from the car.</p>
<p>Oh. Well, suit yourself.</p>
<p>Who wants to check me?</p>
<p>On the other hand, safety first.</p>
<p>(rain falling loudly)</p>
<p>Wow, it's really coming down.</p>
<p>This sucks.</p>
<p>And there goes our hike.</p>
<p>Oh, not our hike!</p>
<p>Now we have to stay safe and warm.</p>
<p>You know, we could still go.</p>
<p>A little rain isn't gonna kill us.</p>
<p>Have you been outside in the rain with Sheldon?</p>
<p>No.</p>
<p>You'll wish it would kill you.</p>
<p>So what do we do now?</p>
<p>They have some board games.</p>
<p>Eh, most of the Jenga pieces are missing and the Scrabble only has seven tiles, so unless you want to build an unimpressive structure with the word &quot;SHNERPF&quot; next to it, move on.</p>
<p>Hey, let's light a fire.</p>
<p>Ooh, that sounds cozy.</p>
<p>I don't think I've lit a real fire before.</p>
<p>Ah, it's basic thermodynamics.</p>
<p>I'm sure we can figure that out.</p>
<p>I could stack the logs conically to facilitate airflow.</p>
<p>That would maximize oxygen for optimal combustion.</p>
<p>(fire whooshes)</p>
<p>Right. So all we need is to...</p>
<p>Got it.</p>
<p>A scientist made that.</p>
<p>Look, Raj, you're my best friend in the world and I really appreciate your enthusiasm about the baby.</p>
<p>Please, my pleasure.</p>
<p>And, of course, Howie and I both want you to be a part of all this.</p>
<p>But we have to set some boundaries.</p>
<p>I don't understand.</p>
<p>The three of us aren't having this baby.</p>
<p>Just the two of us.</p>
<p>Oh...</p>
<p>Okay. Yeah, I get it.</p>
<p>I'll back off.</p>
<p>Thanks for understanding.</p>
<p>Of course.</p>
<p>I'll give you guys some space.</p>
<p>Let me just get this out of your way.</p>
<p>You need some help?</p>
<p>No, I got it.</p>
<p>(clattering)</p>
<p>(grunts)</p>
<p>Raj... Raj, wait.</p>
<p>Please, Bernadette.</p>
<p>Let me leave with my dignity.</p>
<p>(thumps)</p>
<p>Hey, you guys want to play a drinking game?</p>
<p>Oh, well now, well now, we'll never win.</p>
<p>You always play the drinking game.</p>
<p>Not <em>the</em> drinking game, <em>a</em> drinking game.</p>
<p>To be fair, good at both.</p>
<p>What's the game?</p>
<p>All right, it's called Never Have I Ever.</p>
<p>The rules are simple.</p>
<p>Someone says something they've never done, but if you have done it, you take a drink.</p>
<p>I've never played that before.</p>
<p>(stammers) Hey, now, wait.</p>
<p>Have we started?</p>
<p>Do I drink?</p>
<p>What is happening?</p>
<p>Okay.</p>
<p>Calm down.</p>
<p>I'll go first.</p>
<p>All right, let's see.</p>
<p>Never have I ever...</p>
<p>She's trying to think of something she's never done before.</p>
<p>This could take a while.</p>
<p>Very funny.</p>
<p>Okay, never have I ever...</p>
<p>Yeah, you know what?</p>
<p>Let's just circle back.</p>
<p>Okay, I'll go.</p>
<p>Never have I ever been arrested.</p>
<p>So I drink.</p>
<p>No, it's only if you've done it.</p>
<p>Got it.</p>
<p>I can't believe you've been arrested.</p>
<p>I can't believe Penny hasn't.</p>
<p>Sheldon, what did you do?</p>
<p>Well, I'm not proud of it, but... I jaywalked.</p>
<p>Oh, no, it's like a horror movie.</p>
<p>We're trapped in a cabin with a maniac.</p>
<p>I'm surprised you would do that.</p>
<p>No, I crossed in the middle of the street.</p>
<p>And normally, I wouldn't, but I saw an aggressive-looking Girl Scout, and it was the heart of cookie season.</p>
<p>Anyway, there was a police officer, and he witnessed the whole thing.</p>
<p>What-- he arrested you for that?</p>
<p>(stammers) No, he didn't do anything.</p>
<p>So I said, &quot;You just saw me jaywalk. Why aren't you doing your job?&quot;</p>
<p>You know?</p>
<p>&quot;M-Maybe I should arrest you for-for impersonating a police officer.&quot;</p>
<p>And then you got arrested.</p>
<p>Oh, and how.</p>
<p>I feel like I just made a horrible mistake.</p>
<p>Yeah.</p>
<p>But on the other hand, I didn't kick him out of our lives.</p>
<p>I just asked him to back off a little.</p>
<p>Yeah.</p>
<p>What? Are you gonna cry?</p>
<p>(crying): Yeah!</p>
<p>Is it baby hormones or actually sad?</p>
<p>I can't tell anymore!</p>
<p>I'll go get him.</p>
<p>And bring back the bear!</p>
<p>This game's dangerous.</p>
<p>I could get you in trouble.</p>
<p>How?</p>
<p>Well, never have I ever used Sheldon's toothbrush to clean the sink.</p>
<p>Fine, is that how you want to play this?</p>
<p>All right, never have I ever come up with a nickname for my own genitals.</p>
<p>Never should've told you about Alvin and the Chipmunks.</p>
<p><strong>Amy</strong>: Okay.</p>
<p>My turn.</p>
<p>Um...</p>
<p>Never have I ever completely rocked my girlfriend's world in bed.</p>
<p>(stammers) Amy...</p>
<p>You know the rules.</p>
<p>Drink.</p>
<p>(clears throat)</p>
<p>Yeah, go ahead.</p>
<p>That's right.</p>
<p>All right, my turn.</p>
<p>Mm...</p>
<p>Oh, I know.</p>
<p>Never have I ever kept a secret bank account, because I think my wife can't handle money.</p>
<p>Did I win?</p>
<p>I feel like I won.</p>
<p>I can't believe this.</p>
<p>You realize I make more money than you?</p>
<p>I don't, I know, but this isn't a big deal.</p>
<p>It's just a little savings I put aside.</p>
<p>We're married.</p>
<p>We're supposed to share everything.</p>
<p>What-- you mean, like, your massive credit card debt?</p>
<p>(door slams)</p>
<p>I'm calling it.</p>
<p>I won.</p>
<p>I appreciate the apology, but it's really not necessary.</p>
<p>I overstepped my bounds.</p>
<p>No, Raj, you've been great.</p>
<p>I just, I need to start doing my part around here.</p>
<p><strong>Bernadette</strong>: I hear that.</p>
<p>Well, if that's the case, is there anything I can do to help?</p>
<p>Well, not right now.</p>
<p>But we could try out that microphone you got us, and listen to the baby's heartbeat.</p>
<p>Really?</p>
<p>It's okay if I listen with you?!</p>
<p>Of course.</p>
<p>Can I squirt the ultrasound jelly on your stomach?</p>
<p>Hey, look at that.</p>
<p>It's weird again.</p>
<p>(door opens)</p>
<p>Okay, you have every right to be mad.</p>
<p>And what you said is true.</p>
<p>You do make more money than me.</p>
<p>So I had no right to do what I did.</p>
<p>And I'm so sorry.</p>
<p>I hope you can forgive me.</p>
<p>How long have you had this secret account?</p>
<p>A couple years, but I just put a few bucks aside every month for emergencies.</p>
<p>Well, how much you got in there?</p>
<p>$6,427.</p>
<p>$47 once my nana's birthday check gets here.</p>
<p>My God, Leonard, do you know what I could do with that kind of money?</p>
<p>No, I do, and that's why I hid it.</p>
<p>What good is it if you don't use it?</p>
<p>Uh, uh, you have shoes you love, but never wear.</p>
<p>I have money I love, but never spend.</p>
<p>We're kind of a cute couple that way.</p>
<p>Again, I'm sorry.</p>
<p>I shouldn't have kept it a secret.</p>
<p>Well, I have a secret I've been keeping from you, too.</p>
<p>Is it a secret bank account?</p>
<p>Because that would be awesome.</p>
<p>I hate my job.</p>
<p>Really?</p>
<p>Why?</p>
<p>Because I don't feel good flirting with doctors for sales.</p>
<p>I mean, I know I make a lot of money.</p>
<p>But I haven't been happy for a while.</p>
<p>Why didn't you tell me?</p>
<p>Because I know how important it is to you that I'm having some success.</p>
<p>That's not true.</p>
<p>Okay, really? So you'd be fine if I went back to acting and waiting tables again?</p>
<p>If that's what you want to do, yes.</p>
<p>Well, it's not what I want to do.</p>
<p>Oh, yes.</p>
<p>Doesn't matter what I want.</p>
<p>Look, this job is gonna get me out of debt.</p>
<p>So I'm gonna do the grown-up thing and see it through.</p>
<p>Well, that is the grown-up thing.</p>
<p>I guess.</p>
<p>I love you.</p>
<p>I love you, too.</p>
<p>You know, never have I ever made love in the forest while it was raining.</p>
<p>Well, guess I gotta drink.</p>
<p>All right, here we go.</p>
<p>(microphone droning)</p>
<p>I'm not hearing anything.</p>
<p>Well, give me a second.</p>
<p>Are you sure you can do this?</p>
<p>Hey, who found four dollars and change on the beach with his metal detector?</p>
<p>I buried it there, so we could go home.</p>
<p>(heartbeat echoing, gasps)</p>
<p>Wait, that's it.</p>
<p>Wow.</p>
<p>Isn't that the best?</p>
<p>You guys made a person.</p>
<p>We did.</p>
<p>And I like to think I helped.</p>
<p>(whispering): You didn't.</p>
<p><strong>Sheldon</strong>: Oh, let me see.</p>
<p>Oh, um, never have I ever drunk milk past its expiration date.</p>
<p>Never have I ever cancelled a dentist appointment.</p>
<p>Oh, uh, never have I ever put my foot in the ocean.</p>
<p>Never have I ever honked if I liked anything.</p>
<p>Oh!</p>
<p>Uh... never have I ever thrown, caught or touched a Frisbee.</p>
<p>Never have I ever put salt on my food without trying it first.</p>
<p>Yeah...</p>
<p>Oh!</p>
<p>Never have I ever pushed all the buttons in an elevator.</p>
<p>(gasps)</p>
<p>Well, we all have a past.</p>
*/});
var lines = subtitles.split("\n");
var box = document.createElement('div');
box.id="box";
box.style.position = 'fixed';
box.style.left = 0;
box.style.right = 0;
box.style.marginLeft = 'auto';
box.style.marginRight = 'auto';
box.style.backgroundColor = 'rgba(253,245,230,0.7)';
box.style.color = 'black';
box.style.fontSize = '1.5em';
box.style.fontFamily = 'Arial';
box.style.textAlign = 'center';
box.style.bottom = 0;
box.style.zIndex = 150;
var curLine = 0;
document.body.appendChild(box);
nextLine(0);
document.onkeydown = function() {
  console.log(window.event.keyCode);
  switch (window.event.keyCode) {
  case 37: nextLine(-1); return false;; // ← Left key
  case 38: nextLine(-1); return false;; // ↑ Up key
  case 13: nextLine(0);  return false;; // ↵ Enter key
  case 39: nextLine(1);  return false;; // → Right key
  case 40: nextLine(1);  return false;; // ↓ Down key
  }
  return true;
}
function nextLine(pos) {
  var box = document.getElementById("box");
  curLine += pos;
  var line = lines[curLine].replace(/<.*?>/g, '');
  box.innerHTML = line;
}
